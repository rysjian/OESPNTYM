FROM alpine:latest
RUN apk add --no-cache libstdc++ nodejs npm curl git python3 make g++
RUN curl -L -o vscode-cli.tar.gz "https://code.visualstudio.com/sha/download?build=stable&os=cli-alpine-arm64" && tar -xzf vscode-cli.tar.gz && rm vscode-cli.tar.gz && mv code /usr/local/bin/
RUN mkdir -p /root/.vscode
ENTRYPOINT ["code", "serve-web", "--host", "0.0.0.0", "--port", "3000", "--without-connection-token"]
